import{_ as V,I as y,o as d,c as p,w as a,a as t,M as n,O as r,a1 as b,K as i,T as g,Q as u,a3 as h,P as f,$ as x,a0 as _,Y as o,N as j,e as C,X as P,W as v,S as L,aw as S,ak as k,al as w,ai as I,U as B,L as T,ax as N,ay as z}from"./index-DGh90Ang.js";import{_ as D}from"./43-lazyload-CBkwrR6M.js";import{V as M}from"./VContainer-1Loe4K8h.js";const U={data(){return{orderitems:[{name:"热门的",type:"trending"},{name:"最受欢迎的",type:"popular"},{name:"新建的",type:"recent"}],tagitems:[{name:"全部",type:"*"},{name:"动画",type:"animations"},{name:"艺术",type:"art"},{name:"游戏",type:"games"},{name:"音乐",type:"music"},{name:"故事",type:"stories"},{name:"教程",type:"tutorials"}],search:{order:"trending",tag:"*",limit:18},usetime:0,ProjectsLoading:!1,projects:[],projectscount:0,curPage:1,scratch_proxy:"https://scratch.192325.xyz"}},async created(){await this.getprojects()},methods:{async getprojects(){this.onPageChange(1)},async onPageChange(m,e){e==!0&&(this.projects=[]),this.usetime=Date.now(),this.ProjectsLoading=!0,this.projects=this.projects.concat(await y({url:this.scratch_proxy+`/projects/explore/projects?mode=${this.search.order}&q=${this.search.tag}&offset=${m*16-16}&limit=${this.search.limit}&language=zh-cn`,method:"get"})),this.curPage=m,this.ProjectsLoading=!1,this.usetime=Date.now()-this.usetime}}},q={class:"mb-2"};function A(m,e,E,F,l,c){return d(),p(M,null,{default:a(()=>[t(g,{subtitle:"这是Scratch上的内容",title:"ScratchMirror"},{actions:a(()=>[t(n,{href:"https://scratch.mit.edu/explore/projects/all"},{default:a(()=>e[5]||(e[5]=[r("Scratch上的发现页")])),_:1}),t(n,{href:"https://scratch.mit.edu/terms_of_use",target:"_blank"},{default:a(()=>e[6]||(e[6]=[r("Scratch使用条款")])),_:1})]),default:a(()=>[t(b,{class:"bg-surface-light pt-4"},{default:a(()=>e[4]||(e[4]=[r(" 我们使用这种方式促进Scratch及其社区的发展，这些内容是按照"),i("a",null,"署名-相同方式共享 2.0 通用",-1),r("协议传播的，您可以在"),i("a",null,"https://creativecommons.org/licenses/by-sa/2.0/",-1),r("查看协议全文。 ")])),_:1})]),_:1}),e[9]||(e[9]=i("br",null,null,-1)),t(f,null,{default:a(()=>[t(u,{cols:"3"},{default:a(()=>[t(h,{modelValue:l.search.order,"onUpdate:modelValue":e[0]||(e[0]=s=>l.search.order=s),items:l.orderitems,"item-title":"name","item-value":"type",label:"排序 为："+l.search.order},null,8,["modelValue","items","label"])]),_:1}),t(u,{cols:"3"},{default:a(()=>[t(h,{modelValue:l.search.tag,"onUpdate:modelValue":e[1]||(e[1]=s=>l.search.tag=s),items:l.tagitems,"item-title":"name","item-value":"type",label:"标签 为："+l.search.tag},null,8,["modelValue","items","label"])]),_:1}),t(u,{cols:"3"},{default:a(()=>[t(n,{onClick:e[2]||(e[2]=s=>c.onPageChange(1,!0))},{default:a(()=>e[7]||(e[7]=[r(" 加载 ")])),_:1})]),_:1})]),_:1}),e[10]||(e[10]=i("br",null,null,-1)),e[11]||(e[11]=i("br",null,null,-1)),t(x,{active:l.ProjectsLoading,height:"4",indeterminate:""},null,8,["active"]),i("div",q,[t(j,null,{default:a(()=>[t(_,{icon:"mdi-clock",start:""}),r("本页加载用时"+o(Math.abs(l.usetime/1e3))+"秒 ",1)]),_:1})]),t(f,null,{default:a(()=>[(d(!0),C(v,null,P(l.projects,s=>(d(),p(u,{cols:" 12",md:"3",key:s},{default:a(()=>[t(g,{to:"/proxy/"+s.id},{default:a(()=>[t(L,{src:`${l.scratch_proxy}/thumbnails/${s.id}`,cover:"","lazy-src":D},null,8,["src"]),t(S,null,{default:a(()=>[t(k,null,{default:a(()=>[r(o(s.title),1)]),_:2},1024),t(w,null,{default:a(()=>[r(o(s.description||"简介未找到"),1)]),_:2},1024)]),_:2},1024),t(I,null,{default:a(()=>[t(B,null,{prepend:a(()=>[t(T,{image:`${this.scratch_proxy}/avatars/${s.author.id}`},null,8,["image"])]),default:a(()=>[t(N,null,{default:a(()=>[r(o(s.author.username),1)]),_:2},1024),t(z,null,{default:a(()=>[r(o(s.author.id),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1}),e[12]||(e[12]=i("br",null,null,-1)),t(n,{onClick:e[3]||(e[3]=s=>c.onPageChange(l.curPage+1,!1))},{default:a(()=>e[8]||(e[8]=[r("继续加载")])),_:1})]),_:1})}const R=V(U,[["render",A]]);export{R as default};

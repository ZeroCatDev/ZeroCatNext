import{_ as g,o as c,c as p,w as s,a as t,B as V,l as a,h as o,j as i,s as h,n,E as x,G as y,m as f,D as b,C as _,v as u,k as j,e as C,u as v,q as P,a2 as L,a0 as k,a1 as S,$ as w,t as I,ax as B,ay as T,i as D,F as z,x as F}from"./index-B8awNWkM.js";import{_ as N}from"./43-lazyload-CBkwrR6M.js";import{V as q}from"./VContainer-Inj3c2ng.js";const E={data(){return{orderitems:[{name:"热门的",type:"trending"},{name:"最受欢迎的",type:"popular"},{name:"新建的",type:"recent"}],search:{text:"",order:"trending",limit:18},usetime:0,ProjectsLoading:!1,projects:[],projectscount:0,curPage:1,scratch_proxy:"https://scratch.192325.xyz"}},async created(){await this.getprojects()},methods:{async getprojects(){},async onPageChange(d,e){e==!0&&(this.projects=[]),this.usetime=Date.now(),this.ProjectsLoading=!0,this.projects=this.projects.concat(await F({url:this.scratch_proxy+`/projects/search/projects?mode=${this.search.order}&q=${this.search.text}&offset=${d*16-16}&limit=${this.search.limit}&language=zh-cn`,method:"get"})),this.curPage=d,this.ProjectsLoading=!1,this.usetime=Date.now()-this.usetime}}},M={class:"mb-2"};function U(d,e,A,G,r,m){return c(),p(q,null,{default:s(()=>[t(h,{subtitle:"这是Scratch上的内容",title:"ScratchMirror"},{actions:s(()=>[t(i,{href:"https://scratch.mit.edu/explore/projects/all"},{default:s(()=>e[5]||(e[5]=[a("Scratch上的发现页")])),_:1}),t(i,{href:"https://scratch.mit.edu/terms_of_use",target:"_blank"},{default:s(()=>e[6]||(e[6]=[a("Scratch使用条款")])),_:1})]),default:s(()=>[t(V,{class:"bg-surface-light pt-4"},{default:s(()=>e[4]||(e[4]=[a(" 我们使用这种方式促进Scratch及其社区的发展，这些内容是按照"),o("a",null,"署名-相同方式共享 2.0 通用",-1),a("协议传播的，您可以在"),o("a",null,"https://creativecommons.org/licenses/by-sa/2.0/",-1),a("查看协议全文。 ")])),_:1})]),_:1}),e[9]||(e[9]=o("br",null,null,-1)),t(f,null,{default:s(()=>[t(n,{cols:"12"},{default:s(()=>[t(x,{label:"搜索 为："+r.search.text,modelValue:r.search.text,"onUpdate:modelValue":e[0]||(e[0]=l=>r.search.text=l)},null,8,["label","modelValue"])]),_:1}),t(n,{cols:"3"},{default:s(()=>[t(y,{modelValue:r.search.order,"onUpdate:modelValue":e[1]||(e[1]=l=>r.search.order=l),items:r.orderitems,"item-title":"name","item-value":"type",label:"排序 为："+r.search.order},null,8,["modelValue","items","label"])]),_:1}),t(n,{cols:"3"},{default:s(()=>[t(i,{onClick:e[2]||(e[2]=l=>m.onPageChange(1,!0))},{default:s(()=>e[7]||(e[7]=[a(" 搜索 ")])),_:1})]),_:1})]),_:1}),e[10]||(e[10]=o("br",null,null,-1)),e[11]||(e[11]=o("br",null,null,-1)),t(b,{active:r.ProjectsLoading,height:"4",indeterminate:""},null,8,["active"]),o("div",M,[t(j,null,{default:s(()=>[t(_,{icon:"mdi-clock",start:""}),a("本页加载用时"+u(Math.abs(r.usetime/1e3))+"秒 ",1)]),_:1})]),t(f,null,{default:s(()=>[(c(!0),C(z,null,v(r.projects,l=>(c(),p(n,{cols:"4",md:"2",key:l},{default:s(()=>[t(h,{to:"/proxy/"+l.id},{default:s(()=>[t(P,{src:`${r.scratch_proxy}/thumbnails/${l.id}`,cover:"","lazy-src":N},null,8,["src"]),t(L,null,{default:s(()=>[t(k,null,{default:s(()=>[a(u(l.title),1)]),_:2},1024),t(S,null,{default:s(()=>[a(u(l.description||"简介未找到"),1)]),_:2},1024)]),_:2},1024),t(w,null,{default:s(()=>[t(I,null,{prepend:s(()=>[t(D,{image:`${this.scratch_proxy}/avatars/${l.author.id}`},null,8,["image"])]),default:s(()=>[t(B,null,{default:s(()=>[a(u(l.author.username),1)]),_:2},1024),t(T,null,{default:s(()=>[a(u(l.author.id),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1}),e[12]||(e[12]=o("br",null,null,-1)),t(i,{onClick:e[3]||(e[3]=l=>m.onPageChange(r.curPage+1,!1))},{default:s(()=>e[8]||(e[8]=[a("继续加载")])),_:1})]),_:1})}const J=g(E,[["render",U]]);export{J as default};
